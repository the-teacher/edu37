-# node - current element of nested tree

-# opts[:class_name] - string
-# opts[:id_field] - string
-# opts[:admin] - bool
-# opts[:root] - bool
-# opts[:first] - bool
-# opts[:last] - bool
-# opts[:has_childs] - bool
-# opts[:level] - integer

=# opts[:class_name]
=# opts[:id_fileld]
=# opts[:admin].to_s
=# opts[:root].to_s
=# opts[:first].to_s
=# opts[:last].to_s
=# opts[:has_childs].to_s
=# opts[:level].to_s


-# page_path(node.send(opts[:id_field]).to_s) ==> page_path(node.id) ==> page_path('1234')
- link_path= eval("#{opts[:class_name]}_path(node.send(opts[:id_field]))")

- link_txt=  opts[:level].to_s + node.title
- title= node.send(opts[:id_field]).to_s

= content_tag(:div, link_to(link_txt, link_path, :title=>title), :class=>"link #{'root' if root}")
